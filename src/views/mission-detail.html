<app:tabs>

	<app:tab caption="Mission Detail" selected="true">
		<div class="row" ng-controller="missionDetailController as controller">
			<section class="col-lg-6">
				<div class="alert alert-danger" ng-show="!!controller.error">
					<h4 class="alert-heading" ng-bind="controller.error.title"></h4>
					<span ng-bind="controller.error.message"></span>
				</div>

				<table class="table table-striped">
					<tbody>
						<tr>
							<th>isLive</th>
							<td>
								{{controller.record.isLive}}
							</td>
						</tr>
                        <tr>
                            <th>Max Groundspeed</th>
                            <td>
                                {{controller.record.maxGroundspeed | number }} m/s
                            </td>
                        </tr>
                        <tr>
                            <th>Max Airspeed</th>
                            <td>
                                {{controller.record.maxAirspeed | number }} m/s
                            </td>
                        </tr>
                        <tr ng-show="!!controller.record.softwareVersion">
                            <th>Software version</th>
                            <td>
                                {{controller.record.softwareVersion }}
                            </td>
                        </tr>
					</tbody>
				</table>

<!-- FIXME - find a way to tunnel this through angular so we can attach our app key -->
<a class="btn btn-default btn-lg" ng-href="{{controller.urlBase}}/messages.tlog">
    <span class="glyphicon glyphicon-download"></span> Download TLOG
</a>

<a class="btn btn-default btn-lg" ng-href="{{controller.urlBase}}/messages.kmz">
    <span class="glyphicon glyphicon-download"></span> Download KML
</a>

			</section>

			<section ng-controller="mapController as map" class="col-lg-6">
				<div class="alert alert-warning alert-dismissable">Map Test</div>
                <!-- watchMarkers true will cause angular updates to particular marker objects to be immediately reflected on the map
                Useful for the live map vehicle display -->
				<leaflet watchMarkers="true" tiles="tiles" geojson="geojson" bounds="bounds" center="center" defaults="defaults" height="480px" width="100%"></leaflet>
			</section>
		</div>
	</app:tab>
</app:tabs>
